<%- include("../partials/head.ejs") %>
<%- include("../partials/nav.ejs") %>

<body>
  <div class="container">

    <form id="edit-form" class="row g-3" method="POST" action="/api/user/update_profile">
      <div class="col-md-12">
        <label for="email" class="form-label">Email</label>
        <input type="email" class="form-control" id="email" name="email" value="<%= user.email %>" readonly>
      </div>
      <div class="col-md-4">
        <label for="oldPassword" class="form-label">Old Password</label>
        <input type="password" class="form-control" id="oldPassword" name="oldPassword" min="8">
      </div>
      <div class="col-md-4">
        <label for="newPassword" class="form-label"> New Password</label>
        <input type="password" class="form-control" id="newPassword" name="newPassword" min="8">
      </div>
      <div class="col-md-4">
        <label for="passwordConfirmation" class="form-label">Confirm New Password</label>
        <input type="password" class="form-control" name="passwordConfirmation" id="passwordConfirmation" min="8">
      </div>
      <div class="col-md-6">
        <label for="fname" class="form-label">First Name</label>
        <input type="text" class="form-control" id="fname" name="fname" value="<%= user.fname %>">
      </div>
      <div class="col-md-6">
        <label for="lname" class="form-label">Last Name</label>
        <input type="text" class="form-control" id="lname" name="lname" value="<%= user.lname %>">
      </div>
      <div class="col-md-12">
        <label for="city" class="form-label">City</label>
        <input type="text" class="form-control" id="city" name="city" value="<%= user.city %>">
      </div>

      <div class="col-12">
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" id="inlineCheckbox1" value="M" name="gender" <% if (user.gender == "Male") { %>
           checked
          <% } %>>
          <label class="form-check-label" for="inlineCheckbox1">Male</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" id="inlineCheckbox2" value="F" name="gender" <% if (user.gender == "Female") { %>
           checked
          <% } %> >
          <label class="form-check-label" for="inlineCheckbox2">Female</label>
        </div>
      </div>
      <div class="col-12">
        <label for="bdate" class="form-label">Birth Date</label>
        <input type="date" class="form-control" id="bdate" name="bdate" value="<%= user.bdate.toISOString().split('T')[0] %>">
      </div>
      <div class="col-12">
        <button type="submit" class="btn btn-primary">Save</button>
      </div>
    </form>
  </div>
  <script type="module" src="/js/userEdit.js"></script>
</body>

</html>